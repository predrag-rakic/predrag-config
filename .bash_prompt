parse_git_branch() {
  git branch 2> /dev/null | sed -e '/^[^*]/d' -e 's/* \(.*\)/(\1)/'
}

parse_git_status_tracked() {
  git status --porcelain 2> /dev/null | sed '/^?? /d;' | head -1 | sed 's/.*/*/'
}
parse_git_status_untracked() {
  git status --porcelain 2> /dev/null | sed '/^[^?][^?] /d;' | head -1 | sed 's/.*/U/'
}
parse_git_status() {
  echo -n "`parse_git_status_untracked``parse_git_status_tracked`"
}

PS1='\u@\h \[\033[32m\]\w\[\033[33m\] $(parse_git_branch)$(parse_git_status)\[\033[00m\]$ '
